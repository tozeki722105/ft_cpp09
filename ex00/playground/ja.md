## ビットコイン価格計算プログラムの作成

CSV形式のビットコイン価格履歴データベースを使用して、指定された日付におけるビットコインの価値を出力するプログラムを作成する必要があります。プログラムは、評価対象の価格と日付を格納した別のデータベースを入力として受け取ります。

プログラムは以下のルールに従う必要があります。

* プログラム名は `btc` とします。
* プログラムはファイルを引数として受け取ります。
* 入力ファイルの各行は `"日付 | 値"` の形式に従います。
* 有効な日付は `"年-月-日"` の形式です。
* 有効な値は、0 から 1000 までの正の整数または浮動小数点数です。

この課題を検証するために、少なくとも1つのコンテナを使用する必要があります。発生する可能性のあるエラーは、適切なエラーメッセージで処理する必要があります。

入力ファイル `input.txt` の例：

```
date | value
2011-01-03 | 3
2011-01-03 | 2
2011-01-03 | 1
2011-01-03 | 1.2
2011-01-09 | 1
2012-01-11 | -1
2001-42-42
2012-01-11 | 1
2012-01-11 | 2147483648
```

プログラムは入力ファイルの値を使用します。データベースに示されている日付に応じた為替レートを乗算した結果を標準出力に表示する必要があります。

入力ファイルの日付がデータベースに存在しない場合は、データベースに含まれる最も近い日付を使用する必要があります。ただし、より後の日付ではなく、より前の日付を使用するように注意してください。

プログラムの使用例：

```
$> ./btc
Error: could not open file.
$> ./btc input.txt
2011-01-03 => 3 = 0.9
2011-01-03 => 2 = 0.6
2011-01-03 => 1 = 0.3
2011-01-03 => 1.2 = 0.36
2011-01-09 => 1 = 0.32
Error: not a positive number.
Error: bad input => 2001-42-42
2012-01-11 => 1 = 7.1
Error: too large a number.
```

警告：この課題を検証するために使用するコンテナは、このモジュールの残りの部分では使用できなくなります。


この翻訳では、要件を明確にし、日本語でコンテキストを提供します。中心となるタスクは、過去の価格データベースとユーザー入力に基づいてビットコインの価値を計算するプログラムを構築することです。主な課題には、さまざまな入力形式の処理、エラー管理、データベース内で最も近い日付の検索などがあります。コンテナの使用に関する警告も重要であり、この演習では、より広範なモジュール内でのデータ構造の選択に制限がある可能性があることを示唆しています。